### Задача 1: Обеспечить разработку
В основном все популярные системы для CI поддерживают вышеперечисленные функции. В большем случае выбор зависит от финансовых возможностей компании, большенство  решений являются платными. 
1. CircleCI — это инструмент CI, который хорошо сочетается с Github, одним из самых популярных инструментов облачного хостинга для систем контроля версий. CircleCi является одним из наиболее гибких инструментов CI: он поддерживает матрицу систем контроля версий, контейнерных систем и механизмов поставки. CircleCi можно разместить в локальной среде или использовать как облачное предложение.   
#### Функциональные возможности:
- Триггеры уведомлений о событиях CI
- Оптимальная производительность для быстрых сборок
- Удобная отладка через протокол SSH и локальные сборки
- Аналитика для измерения производительности сборки
2. Amazon Web Services — один из доминирующих поставщиков облачной инфраструктуры на рынке. Он предлагает инструменты и услуги для различных задач, связанных с инфраструктурой и разработкой кода. В качестве инструмента CI предлагается CodePipeline. CodePipeline может напрямую взаимодействовать с другими существующими инструментами AWS, создавая комплексную среду AWS.  
#### Функциональные возможности:
- Полностью облачная среда
- Интеграция с Amazon Web Services
- Поддержка пользовательских плагинов
- Надежный контроль доступа
3. Azure — это платформа облачной инфраструктуры Microsoft, аналог Amazon Web Services. Как и упомянутый выше сервис AWS CodePipeline, Azure предлагает инструмент CI, полностью интегрированный в набор инструментов хостинга Azure.  
#### Функциональные возможности:
- Интеграция с платформой Azure
- Поддержка платформы Windows
- Поддержка контейнеров
- Интеграция с Github
4. Gitlab — это новый инструмент CI с поддержкой всех возможностей DevOps. Продукт создавался для повышения удобства работы с Github. Gitlab имеет современный интерфейс с поддержкой контейнеров.  
#### Функциональные возможности:
- Размещение в локальной или облачной среде
- Непрерывное тестирование безопасности
- Легкий в освоении интерфейс

На мой взгляд наиболее удобным решением является GitLab. 

### Задача 2: Логи
  Выбран комплекс программного обеспечения Elastic Stack с открытым исходным кодом, так как он подходит для удовлетворения ранее сформированных требований, является бесплатным и
популярным решением, сумевшим доказать свою эффективность в большом количестве внедрений по всему миру. 
  Основными программными компонентами являются:  
  * Elasticsearch — распределенное, поисковое и аналитическое ядро системы, поддерживающее REST API и передачу данных через JSON. Elasticsearch централизованно хранит поступающие в него данные, поддерживает кластерную архитектуру, позволяя масштабировать систему, и является прозрачной и надежной системой, обладая средствами обнаружения сбоев, что, в свою очередь, обеспечивает высокую доступность. Ядро Elasticsearch выполняет в реальном времени поиск по большим объемам разнотипных структур данных — документов. Документ — базовая единица информации, которая может быть проиндексирована. Документы специфицируются в формате JSON. Система имеет развитый API, в список поддерживаемых языков для взаимодействия входят Java, Python, С++ и другие.  
  * Logstash — программный конвейер обработки данных, он одновременно собирает данные из множества различных источников, обрабатывает их и отправляет в подсистему хранения. Logstash имеет встроенный синтаксический анализатор, позволяющий нормализовать разнотипные данные, производить определение географических координат по IP, обрабатывать информацию различных источников независимо от формата и структуры.  
* Kibana — программный компонент, реализующий функции визуализации и навигации в комплексе Elastic Stack. Kibana представляет данные в виде настраиваемой интерактивной панели
индикаторов в реальном времени. Он реализует большое количество встроенных настраиваемых виджетов (гистограммы, графы, карты и другие стандартные инструменты) и имеет развитый API.   
 * Beats — набор программ — коллекторов данных с низкими требованиями к ресурсам, которые устанавливаются на клиентских устройствах для сбора системных журналов и файлов. Имеется широкий выбор коллекторов, а также возможность написать свой коллектор. Filebeat транслируют на сервер информацию из динамических обновляемых журналов системы и файлов, содержащих текстовую информацию. Для аналогичных действий с журналами Windows-систем используется Winlogbeat. Packetbeat — сетевой анализатор пакетов, который отправляет информацию о сетевой активности между серверами приложений. Он перехватывает сетевой трафик, декодирует протоколы и извлекает необходимые данные.   
  Основными достоинствами ELK-стека считаются следующие:  
1. Масштабируемость – кластер Elasticsearch (ES) расширяется «на лету» добавлением новых серверов. При этом распределение нагрузки по узлам происходит автоматически.
2. Отказоустойчивость — в случае сбоя кластерных узлов данные не потеряются, а будут перераспределены, и поисковая система сама продолжит работу. Операционная стабильность достигается ведением логов на каждое изменение данных в хранилище сразу на нескольких узлах кластера.
3. Гибкость поисковых фильтров, включая нечеткий поиск, и мультиарендность, когда в рамках одного объекта ES можно динамически организовать несколько различных поисковых систем. 
4. Управляемость ES по HTTP с помощью JSON-запросов за счет REST API и визуального веб-интерфейса Kibana.
5. Универсальность – Logsatsh в потоковом режиме работает одновременно со множеством разных источников данных (СУБД, файлы, системные логи, веб-приложения и пр.), фильтруя и преобразуя их для отправки в хранилище ES. 

  В случае развертывания микросервисов с помощью Kubernetes, то необходимо специальное решение для логирования.  
```Elastic + Fluentd + Kibana (EFK Stack)```  
  Стек EFK — это более классический, и при этом не менее популярный инструмент логирования.  
  Fluentd — это современный универсальный коллектор логов, набирающий всё большую популярность и присоединившийся к Cloud Native Computing Foundation, из-за чего вектор его разработки ориентирован на использование совместно с Kubernetes
  
### Задача 2: Мониторинг
Наиболее популярными решением для обеспечения сбора и анализа состояния хостов и сервисов в микросервисной архитектуре является система мониторинга Prometheus + Grafana. Она удовлетворяет необходимым требованиям.  
* Prometheus - центральный сервер, предназначенный для сбора и хранения данных. Данные постоянно изменяются во времени (например, уровень заполненности диска, трафик через сетевой интерфейс, время отклика сайта). Элементы данных называются метриками. Сервер Prometheus с заданной периодичностью считывает метрики и помещает полученные данные в Time Series DB. Time Series DB - это разновидность баз данных, предназначенная для хранения временных рядов (значений с привязкой ко времени). Кроме того, Prometheus предоставляет интерфейс для выполнения запросов и визуализации полученных данных. Язык запросов Prometheus называется PromQL. Prometheus работает по модели Pull, то есть он сам опрашивает endpoints с целью получения данных.  
* Exporters - процессы, обеспечивающие сбор и их передачу серверу Prometheus. Существует много разных exporters, например:
```
Node_exporter - сбор системных метрик (процессор, память, и т.д.).
Mysqld_exporter - сбор метрик работы сервера MySQL.
Postgres_exporter - сбор метрик работы сервера PostgreSQL. 
```  
После запуска exporter начинает сбор соответствующих метрик и ожидает запросов от сервера Prometheus по заданному порту. Данных передаются в формате http.
* Grafana - удобный frontend для визуализации накопленных данных, может использоваться для работы с данными сервера Prometheus, предоставляет различные преднастроенные Dashboard для отображения данных.  
Помимо функций сбора, анализа и визуализации данных, Prometheus и Grafana поддерживают настраиваемые оповещения. В Grafana этот механизм является встроенным, в Prometheus он реализуется отдельным компонентом (Alert_manager).
